{% extends 'base.html' %}

{% block titulo %}
Editar Produto - Veganza
{% endblock %}

{% block conteudo %}
<div class="container">
  <div class="form-container fade-in">
    <h2 class="text-center mb-4"><i class="fas fa-edit me-2"></i>Editar Produto</h2>
    
    <form method="POST" enctype="multipart/form-data">
      <div class="mb-3">
        <label for="nome" class="form-label">Nome do Produto</label>
        <input type="text" id="nome" name="nome" class="form-control" value="{{ item.nome }}" required>
      </div>
      
      <div class="mb-3">
        <label for="cod_barra" class="form-label">Código de Barra</label>
        <input type="text" id="cod_barra" name="cod_barra" class="form-control" value="{{ item.cod_barra }}" required>
      </div>
      
      <div class="mb-3">
        <label for="preco" class="form-label">Preço</label>
        <div class="input-group">
          <span class="input-group-text">R$</span>
          <input type="number" id="preco" name="preco" class="form-control" value="{{ item.preco }}" step="0.01" required>
        </div>
      </div>
      
      <div class="mb-3">
        <label for="descricao" class="form-label">Descrição</label>
        <textarea id="descricao" name="descricao" class="form-control" rows="4" required>{{ item.descricao }}</textarea>
      </div>
      
      <div class="mb-4">
        <label for="imagem" class="form-label">Imagem do Produto</label>
        <input type="file" id="imagem" name="imagem" class="form-control">
        
        {% if item.imagem %}
        <div class="mt-2">
          <p class="text-muted"><small>Imagem atual:</small></p>
          <img src="{{ url_for('static', filename='img/' + item.imagem) }}" alt="{{ item.nome }}" class="img-thumbnail" style="max-height: 100px;">
        </div>
        {% endif %}
      </div>
      
      <div class="d-grid gap-2 d-md-flex justify-content-md-center">
        <a href="{{ url_for('page_produto') }}" class="btn btn-secondary me-md-2">
          <i class="fas fa-arrow-left me-2"></i>Cancelar
        </a>
        <button type="submit" class="btn btn-primary">
          <i class="fas fa-save me-2"></i>Salvar Alterações
        </button>
      </div>
    </form>
  </div>
</div>
{% endblock %}
